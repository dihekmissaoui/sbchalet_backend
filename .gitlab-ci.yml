# stages:
#   - test
#   - build jar
#   - build and push docker image

# test_job:
#   image: maven:3.6.3-jdk-8
#   stage: test
#   script:
#     - pwd
#     - mvn clean
#     - mvn compile
    

# build:
#   image: maven:3.6.3-jdk-8
#   stage: build jar
#   script:
#     - mvn install -DskipTests=true


  ######################
stages:
  - build-java-project
  - build-docker-image

Build Java Project:
  image: maven:3.6.3-jdk-8
  stage: build-java-project
  script:
    #mvn --version
    mvn clean install
  artifacts:
    paths:
      - C:\Users\Houssem\Downloads\gitlab-runner

Build Docker Image:
  image: maven:3.6.3-jdk-8
  stage: build-docker-image
  script:
    - docker info
    - docker build -t dihekmissaoui/devops
